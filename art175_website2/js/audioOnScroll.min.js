// makes the js files work with the html files
 window.onload = function(){ 


// context var makes it possible for autoplaying audio on chrome/but will only be activated after user input like a mouse click
 	var context = new AudioContext();
context.resume().then(() => {
    console.log('Playback resumed successfully');
  });



 var statusText = document.getElementById("statusText");
var audioElm = document.getElementById("soundTour");
 var playing = false;




 function handler(entries, observer) {
  for (entry of entries) {
     console.log(entry);

     statusText.textContent = entry.isIntersecting;

    if (entry.isIntersecting) {
       audioElm.play();
       playing = true;
     } else {
       audioElm.pause();
       playing = false;
     }
   }
 }

// /* By default, invokes the handler whenever:
//    1. Any part of the target enters the viewport
//    2. The last part of the target leaves the viewport */
 
 let observer = new IntersectionObserver(handler);
 observer.observe(document.getElementById('target'));


 








var statusText2 = document.getElementById("statusText2");
var audioElm2 = document.getElementById("soundTour2");
// var audioElm2 = document.getElementById("soundTour2");
 var playing = false;



// // var audioElm = $('#soundTour').get(0);
 function handler2(entries, observer2) {
  for (entry2 of entries) {
     console.log(entry2);

     statusText.textContent = entry2.isIntersecting;

    if (entry2.isIntersecting) {
       audioElm2.play();
       // audioElm2.play();
       playing = true;
     } else {
       audioElm2.pause();
       // audioElm2.pause();
       playing = false;
     }
   }
 }

// /* By default, invokes the handler whenever:
//    1. Any part of the target enters the viewport
//    2. The last part of the target leaves the viewport */
 
 let observer2 = new IntersectionObserver(handler2);
  // let observer2 = new IntersectionObserver(handler);
 observer2.observe(document.getElementById('target2'));
  // observer2.observe(document.getElementById('target2'));

 

};
 


 